digraph IntegrationFlow {
  graph [rankdir=LR, bgcolor="white", pad="0.2", nodesep="0.5", ranksep="0.6"];
  node [shape=box, style="rounded,filled", fontname="Helvetica", fontsize=11, fillcolor="#F8FAFC", color="#4A5568"];
  edge [color="#4A5568", penwidth=1.2, arrowsize=0.7, fontname="Helvetica", fontsize=10];

  sim [label="robot / simulator", fillcolor="#FAF5FF", color="#805AD5"];
  obs [label="env.observe\n(observation map)", fillcolor="#E6FFFA", color="#319795"];
  bb [label="blackboard", fillcolor="#FFF5F5", color="#C53030"];
  bt [label="BT tick", fillcolor="#EBF8FF", color="#3182CE"];
  action [label="action key", fillcolor="#FFFAF0", color="#DD6B20"];
  envact [label="env.act", fillcolor="#FFFAF0", color="#DD6B20"];
  step [label="env.step", fillcolor="#FAF5FF", color="#805AD5"];

  sim -> obs -> bb -> bt -> action -> envact -> step -> sim;
  bt -> bb [label="read/write", style=dashed, color="#718096"];
}
