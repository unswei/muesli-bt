digraph GettingOrientedArchitecture {
  graph [rankdir=LR, bgcolor="white", pad="0.2", nodesep="0.5", ranksep="0.7"];
  node [shape=box, style="rounded,filled", fontname="Helvetica", fontsize=11, fillcolor="#F7FAFC", color="#4A5568"];
  edge [color="#4A5568", penwidth=1.2, arrowsize=0.7, fontname="Helvetica", fontsize=10];

  subgraph cluster_logic {
    label="muesli-bt runtime";
    color="#CBD5E0";
    style="rounded";
    bt [label="BT language + Lisp logic", fillcolor="#E6FFFA", color="#319795"];
    planner [label="planner.plan / plan-action", fillcolor="#EBF8FF", color="#3182CE"];
    bb [label="blackboard", fillcolor="#FFF5F5", color="#C53030"];
  }

  backend [label="host (backend)\n(env.* implementation)", fillcolor="#FFFAF0", color="#DD6B20"];
  platform [label="robot / simulator\n(Webots, PyBullet, ROS2, hardware)", fillcolor="#FAF5FF", color="#805AD5"];

  platform -> backend [label="sensors/state"];
  backend -> bb [label="env.observe"];
  bt -> bb [label="read/write"];
  bt -> planner [label="plan request"];
  planner -> bb [label="action + meta"];
  bb -> backend [label="selected action"];
  backend -> platform [label="env.act + env.step"];
}
