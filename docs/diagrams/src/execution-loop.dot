digraph ExecutionLoop {
  graph [rankdir=LR, bgcolor="white", pad="0.2", nodesep="0.45", ranksep="0.6"];
  node [shape=box, style="rounded,filled", fontname="Helvetica", fontsize=11, fillcolor="#F8FAFC", color="#4A5568"];
  edge [color="#4A5568", penwidth=1.2, arrowsize=0.7, fontname="Helvetica", fontsize=10];

  observe [label="env.observe()", fillcolor="#E6FFFA", color="#319795"];
  write [label="write obs -> blackboard", fillcolor="#FFF5F5", color="#C53030"];
  tick [label="bt.tick(instance)", fillcolor="#EBF8FF", color="#3182CE"];
  act [label="env.act(action or safe_action)", fillcolor="#FFFAF0", color="#DD6B20"];
  step [label="env.step()\n(next control tick)", fillcolor="#FAF5FF", color="#805AD5"];

  observe -> write -> tick -> act -> step -> observe;
}
